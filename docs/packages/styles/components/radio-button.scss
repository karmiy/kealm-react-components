@import "../mixins/mixins";
@import "../mixins/_button";
@import "../common/var";

@include b(radio-button) {
    position: relative;
    display: inline-block;
    outline: none;

    @include e(orig-radio) {
        position: absolute;
        outline: none;
        z-index: -1;
        opacity: 0;

        &:focus {
            & + .km-radio-button__inner {
                box-shadow: 0 0 0 3px $radio-input-border-box-shadow-focus;
            }
        }
    }

    @include e(inner) {
        box-sizing: border-box;
        display: inline-block;
        position: relative;
        line-height: 1;
        border: $border-base;
        outline: none;
        margin: 0;
        background-color: $radio-button-base-background-color;
        font-weight: $radio-button-font-weight;
        color: $radio-button-base-font-color;
        white-space: nowrap;
        text-align: center;
        vertical-align: middle;
        -webkit-appearance: none;
        cursor: pointer;
        transition: all $transition-duration-base $ease-in-out;

        @include button-size($button-padding-vertical, $button-padding-horizontal, $button-font-size, 0);

        &:hover {
            color: $color-primary;
        }

        & [class*="km-icon-"] {
            line-height: 0.9;

            & + span {
                margin-left: 5px;
            }
        }
    }

    @include when(checked) {
        .km-radio-button__inner {
            border-color: $radio-button-checked-border-color;
            background-color: $radio-button-checked-background-color;
            color: $radio-button-checked-font-color;
        }
    }

    @include when(disabled) {
        .km-radio-button__inner {
            border-color: $button-disabled-border-color;
            background-color: $button-disabled-background-color;
            background-image: none;
            box-shadow: none;
            color: $button-disabled-font-color;
            cursor: not-allowed;
        }
        @include when(checked) {
            .km-radio-button__inner {
                background-color: $radio-button-disabled-checked-fill;
            }
            @include when(solid) {
                .km-radio-button__inner {
                    border-color: $button-disabled-border-color;
                    background-color: $radio-button-disabled-checked-fill;
                    color: $button-disabled-font-color;
                }
            }
        }
    }

    @include when(solid) {
        @include when(checked) {
            .km-radio-button__inner {
                border-color: $radio-button-solid-checked-border-color;
                background-color: $radio-button-solid-checked-background-color;
                color: $radio-button-solid-checked-font-color;
            }
        }
    }

    @include m(large) {
        & .km-radio-button__inner {
            @include button-size($button-large-padding-vertical, $button-large-padding-horizontal, $button-large-font-size, 0);
        }
    }
    @include m(small) {
        & .km-radio-button__inner {
            @include button-size($button-small-padding-vertical, $button-small-padding-horizontal, $button-small-font-size, 0);
        }
    }
}

@include b(radio-group) {
    display: inline-block;
    line-height: 1;
    vertical-align: middle;
    font-size: 0;

    & > .km-radio-button {
        @include when(checked) {
            z-index: $z-index-base;
        }
        &:not(:first-child) {
            margin-left: -1px;
        }
        &:first-child {
            .km-radio-button__inner {
                border-radius: $border-radius-base 0 0 $border-radius-base;
            }
        }

        &:last-child {
            .km-radio-button__inner {
                border-radius: 0 $border-radius-base $border-radius-base 0;
            }
        }

        &:first-child:last-child {
            .km-radio-button__inner {
                border-radius: $border-radius-base;
            }
        }
    }
}